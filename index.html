<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduFlow | Master Your Future</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Radiant Red/Orange/White Gradient Theme */
        body {
            background: fixed linear-gradient(135deg, #7f1d1d 0%, #c2410c 30%, #fb923c 60%, #fff7ed 100%);
            background-size: cover;
            min-height: 100vh;
        }

        /* Glassmorphism Utilities */
        .glass-panel {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .glass-nav {
            background: rgba(127, 29, 29, 0.85); /* Dark Red tint */
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .active-tab { 
            border-bottom: 3px solid #c2410c; 
            color: #9a3412; 
            background: rgba(254, 215, 170, 0.3);
        }
        
        .course-card:hover { transform: translateY(-4px); }
        
        .chat-scroll::-webkit-scrollbar { width: 6px; }
        .chat-scroll::-webkit-scrollbar-thumb { background-color: #fdba74; border-radius: 4px; }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .toast-enter { animation: slideIn 0.3s ease-out forwards; }
        
        /* Video Player Placeholder Animation */
        .pulse-ring {
            animation: pulse-ring 2s infinite;
        }
        @keyframes pulse-ring {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 87, 34, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(255, 87, 34, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 87, 34, 0); }
        }
    </style>
</head>
<body class="font-sans text-slate-800">

    <!-- Navigation (Dark Red Glass) -->
    <nav class="glass-nav shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center gap-2 cursor-pointer group" onclick="goHome()">
                <div class="bg-white text-orange-700 p-2 rounded-lg shadow-md group-hover:scale-110 transition">
                    <i class="fas fa-fire text-xl"></i>
                </div>
                <h1 class="text-2xl font-serif font-bold text-white tracking-tight text-shadow-sm">EduFlow</h1>
            </div>

            <!-- Search Bar (Hidden on mobile) -->
            <div class="hidden md:flex flex-1 max-w-lg mx-8 relative">
                <i class="fas fa-search absolute left-3 top-3.5 text-orange-200"></i>
                <input type="text" placeholder="Search for courses, skills, or mentors..." 
                       class="w-full bg-white/10 border border-orange-400/30 text-white placeholder-orange-200 rounded-full py-2.5 pl-10 pr-4 focus:ring-2 focus:ring-orange-400 focus:outline-none transition backdrop-blur-sm">
            </div>

            <!-- User Actions -->
            <div class="flex items-center gap-4 text-white">
                <button class="hidden sm:block hover:text-orange-200 font-medium font-serif transition" onclick="goHome()">Browse Catalog</button>
                <div class="relative group cursor-pointer">
                    <button class="flex items-center gap-2 hover:bg-white/10 p-1.5 rounded-full transition border border-transparent hover:border-orange-300/50">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" class="w-8 h-8 rounded-full border-2 border-orange-300 shadow-sm">
                        <span class="hidden sm:block text-sm font-semibold font-serif">Alex Doe</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Layout -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        
        <!-- DASHBOARD VIEW CONTAINER -->
        <div id="dashboard-view" class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar (Left) -->
            <aside class="hidden lg:block space-y-6">
                <!-- Weekly Goal -->
                <div class="glass-panel p-6 rounded-xl shadow-lg">
                    <h3 class="font-bold font-serif text-lg mb-4 text-orange-900 flex items-center gap-2">
                        <i class="fas fa-bullseye text-orange-600"></i> Weekly Goal
                    </h3>
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-slate-600 font-medium">3/5 Lessons</span>
                        <span class="text-sm font-bold text-orange-600">60%</span>
                    </div>
                    <div class="w-full bg-orange-100 rounded-full h-3">
                        <div class="bg-gradient-to-r from-red-600 to-orange-500 h-3 rounded-full shadow-sm" style="width: 60%"></div>
                    </div>
                    <p class="text-xs text-slate-500 mt-3 font-serif italic">"Keep the fire of learning alive."</p>
                </div>

                <!-- Menu -->
                <div class="glass-panel p-4 rounded-xl shadow-lg">
                    <ul class="space-y-1">
                        <li><button onclick="switchTab('all')" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 text-slate-700 hover:text-orange-800 font-medium transition text-left group"><i class="fas fa-home w-6 text-center text-orange-400 group-hover:text-orange-600 transition"></i> Dashboard</button></li>
                        <li><button onclick="switchTab('my')" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 text-slate-700 hover:text-orange-800 font-medium transition text-left group"><i class="fas fa-book-reader w-6 text-center text-orange-400 group-hover:text-orange-600 transition"></i> My Library</button></li>
                        <li><button class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 text-slate-700 hover:text-orange-800 font-medium transition text-left group"><i class="fas fa-certificate w-6 text-center text-orange-400 group-hover:text-orange-600 transition"></i> Certificates</button></li>
                        <li><button class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-orange-50 text-slate-700 hover:text-orange-800 font-medium transition text-left group"><i class="fas fa-cog w-6 text-center text-orange-400 group-hover:text-orange-600 transition"></i> Settings</button></li>
                    </ul>
                </div>

                <!-- AI Suggestion -->
                <div class="bg-gradient-to-br from-red-800 to-orange-700 text-white p-6 rounded-xl shadow-xl relative overflow-hidden border border-orange-600">
                    <div class="absolute -right-6 -bottom-6 text-white/10 text-9xl"><i class="fas fa-lightbulb"></i></div>
                    <h4 class="font-bold mb-2 font-serif text-orange-100">AI Spark Recommendation</h4>
                    <p class="text-sm text-orange-50 mb-4 font-serif relative z-10">"Based on your heat map, try: 'Data Science 101'."</p>
                    <button onclick="showToast('Added to reading list!')" class="relative z-10 bg-white text-orange-700 text-xs font-bold px-4 py-2 rounded shadow-lg hover:bg-orange-50 transition">Ignite Learning</button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="lg:col-span-3 space-y-8">
                
                <!-- Hero Banner -->
                <div class="glass-panel rounded-2xl p-8 shadow-xl relative overflow-hidden group">
                    <div class="absolute top-0 right-0 w-80 h-80 bg-orange-200 rounded-full blur-[80px] opacity-40 -translate-y-1/2 translate-x-1/3"></div>
                    <div class="relative z-10">
                        <span class="bg-gradient-to-r from-red-600 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide shadow-md">New Feature</span>
                        <h2 class="text-4xl font-serif font-bold text-slate-900 mt-4 mb-3">The Radiant Reader</h2>
                        <p class="text-slate-700 max-w-lg mb-6 font-serif text-lg leading-relaxed">Illuminate your mind with our latest courses. Use the AI Tutor to spark new ideas.</p>
                        <button onclick="toggleAI('General Learning')" class="bg-gradient-to-r from-red-700 to-orange-600 text-white px-8 py-3 rounded-xl font-serif font-bold hover:shadow-orange-500/50 hover:shadow-lg transform hover:-translate-y-1 transition border-t border-white/20">Open AI Tutor</button>
                    </div>
                    <div class="absolute right-8 top-1/2 -translate-y-1/2 z-0 opacity-10 md:opacity-100 transition-opacity">
                        <!-- Stylized Sun/Book Icon -->
                        <div class="text-[10rem] text-orange-500/10"><i class="fas fa-sun"></i></div>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="glass-panel rounded-xl flex overflow-hidden p-1 gap-1">
                    <button onclick="switchTab('all')" id="tab-all" class="flex-1 py-3 font-serif font-bold text-lg rounded-lg transition-all duration-300">Explore</button>
                    <button onclick="switchTab('my')" id="tab-my" class="flex-1 py-3 font-serif font-bold text-lg rounded-lg text-slate-500 hover:text-orange-700 hover:bg-orange-50 transition-all duration-300">My Library</button>
                    <button onclick="switchTab('newsletter')" id="tab-newsletter" class="flex-1 py-3 font-serif font-bold text-lg rounded-lg text-slate-500 hover:text-orange-700 hover:bg-orange-50 transition-all duration-300">Newsletter</button>
                </div>

                <!-- Content Grid -->
                <div id="content-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Javascript Injection Here -->
                </div>
            </main>
        </div>
        
        <!-- COURSE PLAYER VIEW CONTAINER (Hidden by default) -->
        <div id="player-view" class="hidden">
            <!-- Back Button -->
            <button onclick="goHome()" class="mb-6 flex items-center gap-2 text-white hover:text-orange-200 font-bold transition">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </button>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 h-[calc(100vh-140px)]">
                <!-- Left: Video & Content -->
                <div class="lg:col-span-2 flex flex-col gap-6">
                    <!-- Video Player Placeholder -->
                    <div class="glass-panel p-2 rounded-2xl shadow-2xl relative aspect-video flex items-center justify-center bg-black/80 overflow-hidden group">
                         <!-- Play Button -->
                         <div class="w-20 h-20 rounded-full bg-orange-600 text-white flex items-center justify-center text-3xl cursor-pointer hover:scale-110 transition pulse-ring z-10">
                            <i class="fas fa-play ml-1"></i>
                         </div>
                         <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=1000')] bg-cover opacity-30 group-hover:scale-105 transition duration-700"></div>
                         <div class="absolute bottom-4 left-4 text-white z-10">
                             <p class="text-sm font-bold uppercase tracking-widest text-orange-400">Now Playing</p>
                             <h2 id="player-lesson-title" class="text-2xl font-serif font-bold">Introduction to Course</h2>
                         </div>
                    </div>

                    <!-- Lesson Details -->
                    <div class="glass-panel p-8 rounded-2xl shadow-lg flex-1 overflow-y-auto">
                        <div class="flex justify-between items-start mb-6">
                            <div>
                                <h1 id="player-course-title" class="text-3xl font-serif font-bold text-slate-900 mb-2">Course Title Here</h1>
                                <p id="player-instructor" class="text-slate-600 italic">Instructor Name</p>
                            </div>
                            <button onclick="toggleAI('Current Lesson')" class="bg-orange-100 text-orange-700 px-4 py-2 rounded-lg font-bold hover:bg-orange-200 transition flex items-center gap-2">
                                <i class="fas fa-robot"></i> Ask AI Tutor
                            </button>
                        </div>
                        
                        <div class="prose prose-orange max-w-none text-slate-700 font-serif leading-relaxed">
                            <h3 class="text-xl font-bold mb-3">Lesson Overview</h3>
                            <p>Welcome to this module. In this session, we will explore the fundamental concepts necessary to master this skill. We will cover real-world applications, theoretical frameworks, and hands-on exercises designed to solidify your understanding.</p>
                            <h3 class="text-xl font-bold mt-6 mb-3">Key Takeaways</h3>
                            <ul class="list-disc pl-5 space-y-2">
                                <li>Understanding the core principles.</li>
                                <li>Analyzing case studies from industry leaders.</li>
                                <li>Implementing best practices in your daily workflow.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Right: Syllabus -->
                <div class="glass-panel p-6 rounded-2xl shadow-lg flex flex-col h-full">
                    <h3 class="font-bold font-serif text-xl mb-4 text-slate-800 border-b border-slate-200 pb-4">Course Syllabus</h3>
                    <div class="flex-1 overflow-y-auto pr-2 space-y-3 chat-scroll" id="player-syllabus">
                        <!-- Syllabus items injected here -->
                    </div>
                    <div class="mt-4 pt-4 border-t border-slate-200">
                        <div class="text-sm text-slate-500 mb-2 flex justify-between">
                            <span>Course Progress</span>
                            <span class="font-bold text-orange-600">0%</span>
                        </div>
                        <div class="w-full bg-slate-200 rounded-full h-2">
                            <div class="bg-orange-600 h-2 rounded-full w-0"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- AI Tutor Modal -->
    <div id="ai-modal" class="fixed inset-0 bg-red-950/60 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm transition-opacity">
        <div class="bg-white rounded-2xl w-full max-w-md shadow-2xl flex flex-col h-[600px] max-h-[80vh] border-2 border-orange-100">
            <div class="p-4 border-b border-orange-100 flex justify-between items-center bg-gradient-to-r from-red-600 to-orange-500 rounded-t-xl text-white">
                <div class="flex items-center gap-3">
                    <div class="bg-white/20 p-2 rounded-lg backdrop-blur-sm">
                        <i class="fas fa-robot text-sm"></i>
                    </div>
                    <div>
                        <h3 class="font-bold font-serif">EduBot</h3>
                        <p class="text-[10px] text-orange-100 opacity-90 uppercase tracking-wider">Powered by AI</p>
                    </div>
                </div>
                <button onclick="toggleAI()" class="text-orange-100 hover:text-white transition hover:rotate-90 duration-300"><i class="fas fa-times text-xl"></i></button>
            </div>
            
            <div class="flex-1 p-4 overflow-y-auto bg-orange-50/30 chat-scroll space-y-4" id="chat-content">
                <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center text-white flex-shrink-0 shadow-md"><i class="fas fa-robot text-xs"></i></div>
                    <div class="glass-panel p-4 rounded-2xl rounded-tl-none shadow-sm text-sm font-serif leading-relaxed text-slate-700">
                        Hello! I am your radiant learning assistant. How can I illuminate a topic for you today?
                    </div>
                </div>
            </div>

            <div class="p-4 border-t border-orange-100 bg-white rounded-b-xl">
                <div class="flex gap-2">
                    <input type="text" id="ai-input" placeholder="Type your question..." 
                           class="flex-1 bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-3 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 outline-none text-sm transition"
                           onkeypress="handleEnter(event)">
                    <button onclick="sendMessage()" class="bg-gradient-to-r from-red-600 to-orange-500 text-white px-5 py-2 rounded-xl hover:shadow-lg hover:scale-105 transition"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-50 flex flex-col gap-2"></div>

    <script>
        // --- Data ---
        const courses = [
            { 
                id: 101, 
                title: "Operation Management", 
                instructor: "Dr. Emily Chen", 
                category: "Business", 
                progress: 0, 
                image: "âš™ï¸", 
                color: "bg-orange-100 text-orange-700 border border-orange-200",
                description: "Optimize business processes, supply chains, and improve organizational efficiency.",
                enrolled: false 
            },
            { 
                id: 102, 
                title: "Project Management Pro", 
                instructor: "James Wilson", 
                category: "Business", 
                progress: 0, 
                image: "ðŸ“Š", 
                color: "bg-red-100 text-red-700 border border-red-200",
                description: "Master Agile, Scrum, and classic project lifecycles for successful delivery.",
                enrolled: false 
            },
            { 
                id: 103, 
                title: "RACI Matrix Masterclass", 
                instructor: "Sarah Lee", 
                category: "Management", 
                progress: 0, 
                image: "ðŸ“‹", 
                color: "bg-amber-100 text-amber-700 border border-amber-200",
                description: "Clarify roles and responsibilities to eliminate confusion in any project.",
                enrolled: false 
            },
            { 
                id: 104, 
                title: "Leadership Styles", 
                instructor: "Michael Ross", 
                category: "Leadership", 
                progress: 0, 
                image: "ðŸ¦", 
                color: "bg-orange-50 text-orange-600 border border-orange-200",
                description: "Explore transformational, transactional, and servant leadership techniques.",
                enrolled: false 
            },
            { 
                id: 4, 
                title: "Advanced React Patterns", 
                instructor: "Kent Dodds", 
                category: "Tech", 
                progress: 0, 
                image: "âš›ï¸", 
                color: "bg-orange-50 text-orange-600 border border-orange-200",
                description: "Take your React skills to the pro level.",
                enrolled: false 
            },
            { 
                id: 5, 
                title: "Public Speaking Confidence", 
                instructor: "Ted Mosby", 
                category: "Soft Skills", 
                progress: 0, 
                image: "ðŸŽ¤", 
                color: "bg-red-50 text-red-600 border border-red-200",
                description: "Speak to any audience without fear.",
                enrolled: false 
            }
        ];

        const newsArticles = [
            {
                id: 1,
                title: "The Future of EdTech",
                category: "Education",
                date: "Oct 24, 2025",
                excerpt: "How AI tutors are reshaping the classroom dynamic globally.",
                image: "ðŸŽ“",
                color: "bg-blue-50 text-blue-600 border border-blue-200"
            },
            {
                id: 2,
                title: "Quantum Computing Shifts",
                category: "Tech",
                date: "Oct 22, 2025",
                excerpt: "Major breakthroughs in qubit stability announced this week.",
                image: "ðŸ’»",
                color: "bg-purple-50 text-purple-600 border border-purple-200"
            },
            {
                id: 3,
                title: "Remote Work leadership",
                category: "Education",
                date: "Oct 20, 2025",
                excerpt: "New curriculum standards for managing distributed teams effectively.",
                image: "ðŸŒ",
                color: "bg-green-50 text-green-600 border border-green-200"
            },
            {
                id: 4,
                title: "The Rust Revolution",
                category: "Tech",
                date: "Oct 18, 2025",
                excerpt: "Why systems programmers are flocking to Rust in record numbers.",
                image: "ðŸ¦€",
                color: "bg-orange-50 text-orange-600 border border-orange-200"
            }
        ];

        let currentTab = 'all';
        let currentView = 'dashboard'; // 'dashboard' or 'player'

        // --- Core Functions ---

        function goHome() {
            currentView = 'dashboard';
            document.getElementById('dashboard-view').classList.remove('hidden');
            document.getElementById('player-view').classList.add('hidden');
            // Ensure we are back on all or my tabs, not stuck in newsletter if coming back from somewhere
            if(currentTab === 'newsletter') switchTab('all'); 
            else renderContent();
        }

        function renderContent() {
            const grid = document.getElementById('content-grid');
            grid.innerHTML = '';

            // 1. NEWSLETTER LOGIC
            if (currentTab === 'newsletter') {
                newsArticles.forEach(news => {
                    const card = document.createElement('div');
                    card.className = "glass-panel rounded-xl p-6 shadow-md hover:shadow-xl course-card flex flex-col transition duration-300 border-l-4 border-orange-500";
                    
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <div class="${news.color} w-10 h-10 rounded-lg flex items-center justify-center text-xl shadow-sm">
                                ${news.image}
                            </div>
                            <span class="text-xs font-bold text-slate-400 bg-white/50 px-2 py-1 rounded border border-slate-100">${news.date}</span>
                        </div>
                        
                        <span class="text-xs font-bold text-orange-600 uppercase tracking-wider mb-1">${news.category}</span>
                        <h3 class="font-serif font-bold text-xl text-slate-800 mb-2 leading-tight">${news.title}</h3>
                        <p class="text-sm text-slate-600 mb-4 line-clamp-3 font-serif leading-relaxed">${news.excerpt}</p>

                        <div class="mt-auto pt-4 border-t border-slate-100">
                             <button onclick="showToast('Opened article: ${news.title}', 'success')" class="text-orange-700 font-bold text-sm hover:underline flex items-center gap-2">
                                Read Article <i class="fas fa-arrow-right text-xs"></i>
                             </button>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                return;
            }

            // 2. COURSES LOGIC (All or My Library)
            const filteredCourses = currentTab === 'my' 
                ? courses.filter(c => c.enrolled) 
                : courses;

            if (filteredCourses.length === 0) {
                grid.innerHTML = `
                    <div class="col-span-full text-center py-12 text-white/80 glass-panel rounded-xl">
                        <i class="fas fa-fire-extinguisher text-4xl mb-3 text-orange-300"></i>
                        <p class="font-serif italic text-slate-600">Your library shelf is empty.</p>
                        ${currentTab === 'my' ? '<button onclick="switchTab(\'all\')" class="text-orange-600 underline mt-2 hover:text-orange-800 font-serif font-bold">Spark Interest</button>' : ''}
                    </div>
                `;
                return;
            }

            filteredCourses.forEach(course => {
                const card = document.createElement('div');
                card.className = "glass-panel rounded-xl p-6 shadow-md hover:shadow-xl course-card flex flex-col transition duration-300";
                
                // Dynamic Button State
                const actionBtn = course.enrolled 
                    ? `<button onclick="openPlayer(${course.id})" class="w-full bg-orange-50 text-orange-800 font-bold py-2.5 rounded-lg hover:bg-orange-100 transition text-sm border border-orange-200">Resume Lesson</button>`
                    : `<button onclick="enrollAndOpen(${course.id})" class="w-full bg-gradient-to-r from-red-600 to-orange-500 text-white font-bold py-2.5 rounded-lg hover:shadow-lg transition text-sm shadow-md">Enroll Now</button>`;

                // Progress Bar (only if enrolled)
                const progressBar = course.enrolled 
                    ? `<div class="w-full bg-slate-200 h-1.5 rounded-full mt-4 mb-2 overflow-hidden">
                         <div class="bg-gradient-to-r from-green-500 to-emerald-400 h-full rounded-full" style="width: ${course.progress}%"></div>
                       </div>
                       <p class="text-xs text-slate-500 text-right font-serif italic">${course.progress}% Read</p>`
                    : `<div class="mt-4 mb-6"></div>`; // Spacer

                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="${course.color} w-12 h-12 rounded-lg flex items-center justify-center text-2xl shadow-sm">
                            ${course.image}
                        </div>
                        <button onclick="toggleAI('${course.title}')" class="text-xs font-bold text-orange-600 bg-orange-50 px-3 py-1.5 rounded-full border border-orange-200 hover:bg-orange-100 transition flex items-center gap-1 group">
                            <i class="fas fa-robot group-hover:rotate-12 transition"></i> Ask AI
                        </button>
                    </div>
                    
                    <span class="text-xs font-bold text-orange-400 uppercase tracking-wider mb-1">${course.category}</span>
                    <h3 class="font-serif font-bold text-xl text-slate-800 mb-2 leading-tight">${course.title}</h3>
                    <p class="text-sm text-slate-600 mb-4 line-clamp-2 font-serif leading-relaxed">${course.description}</p>
                    <div class="flex items-center gap-2 mb-4">
                        <div class="w-6 h-6 rounded-full bg-slate-200 border border-slate-300"></div>
                        <span class="text-xs text-slate-500 font-medium font-serif italic">By ${course.instructor}</span>
                    </div>

                    <div class="mt-auto">
                        ${progressBar}
                        ${actionBtn}
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function switchTab(tab) {
            currentTab = tab;
            
            // UI Update
            const tabAll = document.getElementById('tab-all');
            const tabMy = document.getElementById('tab-my');
            const tabNews = document.getElementById('tab-newsletter');
            
            // Reset all classes
            const inactiveClass = "flex-1 py-3 font-serif font-bold text-lg rounded-lg text-slate-500 hover:text-orange-700 hover:bg-orange-50 transition-all duration-300";
            const activeClass = "flex-1 py-3 font-serif font-bold text-lg rounded-lg transition-all duration-300 active-tab shadow-sm";

            tabAll.className = inactiveClass;
            tabMy.className = inactiveClass;
            tabNews.className = inactiveClass;

            // Set active class
            if(tab === 'all') tabAll.className = activeClass;
            else if(tab === 'my') tabMy.className = activeClass;
            else if(tab === 'newsletter') tabNews.className = activeClass;

            renderContent();
        }

        // --- Enrollment & Player Logic ---

        function enrollAndOpen(id) {
            const course = courses.find(c => c.id === id);
            if(course) {
                if(!course.enrolled) {
                    course.enrolled = true;
                    course.progress = 0;
                    showToast(`Ignited course: "${course.title}"!`, 'success');
                }
                openPlayer(id);
            }
        }

        function openPlayer(id) {
            const course = courses.find(c => c.id === id);
            if (!course) return;

            // Switch Views
            document.getElementById('dashboard-view').classList.add('hidden');
            document.getElementById('player-view').classList.remove('hidden');

            // Populate Player Data
            document.getElementById('player-course-title').innerText = course.title;
            document.getElementById('player-instructor').innerText = `Instructor: ${course.instructor}`;
            
            // Generate Syllabus
            const syllabusContainer = document.getElementById('player-syllabus');
            syllabusContainer.innerHTML = '';
            
            // Mock syllabus generation based on course category
            const modules = [
                { title: "Introduction & Setup", duration: "10m" },
                { title: "Core Concepts Deep Dive", duration: "45m" },
                { title: "Practical Application", duration: "30m" },
                { title: "Case Studies", duration: "25m" },
                { title: "Advanced Techniques", duration: "50m" },
                { title: "Final Assessment", duration: "15m" }
            ];

            modules.forEach((mod, index) => {
                const isActive = index === 0;
                const item = document.createElement('div');
                item.className = `p-3 rounded-lg flex justify-between items-center cursor-pointer transition ${isActive ? 'bg-orange-100 border border-orange-200' : 'hover:bg-slate-50 border border-transparent'}`;
                item.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${isActive ? 'bg-orange-600 text-white' : 'bg-slate-200 text-slate-500'}">
                            ${index + 1}
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-800">${mod.title}</p>
                            <p class="text-xs text-slate-500">${mod.duration} â€¢ Video</p>
                        </div>
                    </div>
                    ${isActive ? '<i class="fas fa-play-circle text-orange-600"></i>' : '<i class="fas fa-lock text-slate-300"></i>'}
                `;
                syllabusContainer.appendChild(item);
            });
            
            // Set First Lesson Title
            document.getElementById('player-lesson-title').innerText = modules[0].title;
        }

        // --- Toast Notification System ---
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            // Colors based on type
            const colors = type === 'success' ? 'bg-gradient-to-r from-red-800 to-orange-800' : 'bg-blue-600';
            const icon = type === 'success' ? 'fa-fire' : 'fa-info-circle';

            toast.className = `toast-enter flex items-center gap-3 ${colors} text-white px-6 py-4 rounded-lg shadow-xl min-w-[300px] border border-orange-500/30`;
            toast.innerHTML = `
                <i class="fas ${icon} text-orange-300"></i>
                <span class="font-serif font-medium text-sm tracking-wide">${message}</span>
            `;

            container.appendChild(toast);

            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateY(100%)';
                toast.style.transition = 'all 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // --- AI Mock Functionality ---

        function toggleAI(context = "") {
            const modal = document.getElementById('ai-modal');
            const isHidden = modal.classList.contains('hidden');
            
            if (isHidden) {
                modal.classList.remove('hidden');
                if (context) {
                    addBotMessage(`I see you're interested in **"${context}"**. Shall I shed some light on this topic?`);
                }
            } else {
                modal.classList.add('hidden');
            }
        }

        function handleEnter(e) {
            if(e.key === 'Enter') sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('ai-input');
            const text = input.value.trim();
            if (!text) return;

            // Add User Message
            const chat = document.getElementById('chat-content');
            chat.innerHTML += `
                <div class="flex gap-3 justify-end">
                    <div class="bg-gradient-to-br from-red-600 to-orange-500 text-white p-4 rounded-2xl rounded-tr-none shadow-md text-sm max-w-[80%] font-serif leading-relaxed">
                        ${text}
                    </div>
                </div>
            `;
            
            input.value = '';
            chat.scrollTop = chat.scrollHeight;

            // Mock AI Response
            setTimeout(() => {
                const responses = [
                    "A brilliant question. In this context, **Variables** act as containers...",
                    "Allow me to illuminate. **React Hooks** allow you to use state without classes...",
                    "Indeed. The **Core Principle** creates a foundation for consistency...",
                    "Let's simplify. Imagine the code is a manuscript, and functions are chapters..."
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addBotMessage(randomResponse);
            }, 1000);
        }

        function addBotMessage(text) {
            const chat = document.getElementById('chat-content');
            chat.innerHTML += `
                <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center text-white flex-shrink-0 shadow-md"><i class="fas fa-robot text-xs"></i></div>
                    <div class="glass-panel p-4 rounded-2xl rounded-tl-none shadow-sm text-sm border border-orange-100 max-w-[80%] font-serif leading-relaxed text-slate-700">
                        ${text}
                    </div>
                </div>
            `;
            chat.scrollTop = chat.scrollHeight;
        }

        // --- Init ---
        renderContent();

    </script>
</body>
</html>